package com.nicholas.smartwalletapp;

import java.util.ArrayList;

import android.app.Fragment;
import android.content.res.Resources;
import android.graphics.Color;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;
import android.widget.TextView;

import com.haarman.listviewanimations.swinginadapters.prepared.SwingBottomInAnimationAdapter;
import com.echo.holographlibrary.BarGraph;
import com.echo.holographlibrary.Bar;
import com.nicholas.smartwalletapp.R;

public class OverviewFragment extends Fragment {
	/**** *set up for array list ******/ 
	ListView LV;
	AccListAdapter adapter;
	public  ArrayList<AccListItem> AccListViewValuesArr = new ArrayList<AccListItem>();

	public OverviewFragment() {
	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		View V = inflater.inflate(R.layout.fragment_overview, container, false);
		LV = (ListView) V.findViewById(R.id.accList);

		/******** Take some data in Arraylist ( CustomListViewValuesArr ) ***********/
		setListData();

/*		*//*** construct summary bar graph ***//*
		ArrayList<Bar> points = new ArrayList<Bar>();
		Bar d = new Bar();
		d.setColor(Color.parseColor("#99CC00"));
		d.setName("Income");
		d.setValue(10);
		Bar d2 = new Bar();
		d2.setColor(Color.parseColor("#FFBB33"));
		d2.setName("Expense");
		d2.setValue(20);
		points.add(d);
		points.add(d2);

		BarGraph g = (BarGraph)V.findViewById(R.id.overview_graph);
		g.setBars(points);*/
		
		/*** show main balance in text view ***/
		TextView mainbalance_text = (TextView)V.findViewById(R.id.overview_mainbalance);
		mainbalance_text.setText("Main balance: SGD 9000");
				
		Resources res = getResources();
		adapter = new AccListAdapter(getActivity(), AccListViewValuesArr, res);
		/********* assign the Listview to the AnimationAdapter ***********/
		SwingBottomInAnimationAdapter swingBottomInAnimationAdapter = new SwingBottomInAnimationAdapter(adapter);
		swingBottomInAnimationAdapter.setAbsListView(LV);
		LV.setAdapter(swingBottomInAnimationAdapter);
			
		return V;
	}
	
	/****** Function to set data in ArrayList *************/
	public void setListData()
	{
		AccListViewValuesArr.clear();

		AccListItem account = new AccListItem();
		/******* Firstly take data in model object ******/
		account.setAccName("Cash 1");
		account.setImage("cash");
		account.setBalance(900);
		account.setCurrency("SGD");
		/******** Take Model Object in ArrayList **********/
		AccListViewValuesArr.add(account);

		/******* Subsequently ******/
		account = new AccListItem();
		account.setAccName("Cash 2");
		account.setImage("cash");
		account.setBalance(1000);
		account.setCurrency("MYR");
		AccListViewValuesArr.add(account);

		account = new AccListItem();
		account.setAccName("Master Card");
		account.setImage("credit");
		account.setBalance(2000);
		account.setCurrency("SGD");
		AccListViewValuesArr.add(account);

		account = new AccListItem();
		account.setAccName("POSB Bank");
		account.setImage("bank");
		account.setBalance(3000);
		account.setCurrency("SGD");
		AccListViewValuesArr.add(account);

		account = new AccListItem();
		account.setAccName("Personal Savings");
		account.setImage("saving");
		account.setBalance(300);
		account.setCurrency("SGD");
		AccListViewValuesArr.add(account);

		account = new AccListItem();
		account.setAccName("Emergency");
		account.setImage("emergency");
		account.setBalance(500);
		account.setCurrency("SGD");
		AccListViewValuesArr.add(account);
			
	}
}
